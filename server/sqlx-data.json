{
  "db": "PostgreSQL",
  "3651dc586bc10c5b6c48558e6abe203c005ce2af4e3ad5a9484c358078a93f50": {
    "query": "SELECT\n\tp.post_id AS id,\n\tp.content,\n\tp.date_posted AS date,\n\tARRAY_AGG(m.file_path) AS \"attachments?: Vec<Option<String>>\"\n\tFROM post p\n\tLEFT JOIN post_media m\n\tON p.post_id = m.post_id\n\tWHERE p.post_id = $1\n\tGROUP BY p.post_id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "date",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 3,
          "name": "attachments?: Vec<Option<String>>",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        null
      ]
    }
  },
  "3c95d3420390d8d3328ee02c2734f485969def2a881955ed2a08b4e5f32bb658": {
    "query": "SELECT title,\n\t\t\turl_title,\n\t\t\tabout,\n\t\t\tdate_published AS published,\n\t\t\tdate_updated AS updated\n\t\t\tFROM article\n\tORDER BY COALESCE(date_updated, date_published) DESC\n\tLIMIT 5",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "url_title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "about",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "published",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 4,
          "name": "updated",
          "type_info": "Timestamp"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true
      ]
    }
  },
  "52cc0d2202b656b1caac13dc8234574f93b512f5950841a695a79391c0979473": {
    "query": "INSERT INTO html_cache(_instance, home_page)\n\t\tVALUES('TRUE', $1)\n\t\tON CONFLICT(_instance) DO UPDATE\n\t\tSET home_page = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "989381b9d980bd3f568274b5115aedd7e9bceb9157d3fc5acde45ccfd2e6d58e": {
    "query": "SELECT\n\tp.post_id AS id,\n\tp.content,\n\tp.date_posted AS date,\n\tARRAY_AGG(m.file_path) AS \"attachments: Vec<Option<String>>\"\n\tFROM post p\n\tLEFT JOIN post_media m\n\tON p.post_id = m.post_id\n\tWHERE $1 = 1 OR p.post_id < $1\n\tGROUP BY p.post_id\n\tORDER BY p.date_posted DESC\n\tLIMIT 25",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "date",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 3,
          "name": "attachments: Vec<Option<String>>",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Int4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        null
      ]
    }
  },
  "c9656af10223f708a38ad78724440a6990f6bde5a10a15c3dd45d11385a99c9f": {
    "query": "SELECT\n\ta.title, a.url_title,\n\ta.date_published, a.date_updated,\n\ta.about, ARRAY_AGG(t.tag_name) tags_array\n\tFROM article a\n\tLEFT JOIN article_tag t\n\tON t.article_id = a.article_id\n\tWHERE $1 = '' OR LOWER(a.title) LIKE $1\n\tGROUP BY a.title, a.url_title\n\tHAVING ARRAY_AGG(t.tag_name) @> $2\n\tORDER BY COALESCE(a.date_updated, a.date_published) DESC",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "url_title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "date_published",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 3,
          "name": "date_updated",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 4,
          "name": "about",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "tags_array",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "TextArray"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        true,
        false,
        null
      ]
    }
  },
  "d656941d05f7ba9b5d253b192e38838915840c2519fa9bc2e3c0837081b27e40": {
    "query": "SELECT p.post_id AS id,\n\t\tp.content,\n\t\tp.date_posted AS date,\n\t\tCOALESCE(COUNT(m.file_path), 0) AS \"n_attachments!\"\n\tFROM post p\n\tLEFT JOIN post_media m\n\tON m.post_id = p.post_id\n\tGROUP BY p.post_id\n\tORDER BY p.post_id DESC\n\tLIMIT 10",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "date",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 3,
          "name": "n_attachments!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false,
        null
      ]
    }
  },
  "dbc9b8d17eb7cd707f85172a796bb1a355f60cdedb382a1cb1fe049efcc7cabe": {
    "query": "TRUNCATE html_cache",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "ed461794a04bb5cf0e6a163744383f62638914e140ceb97eff50823133520e72": {
    "query": "SELECT a.title, a.url_title, a.about, a.date_published, a.date_updated, a.html,\n\t\tARRAY_AGG(t.tag_name) tags_array\n\t\tFROM article a\n\t\tLEFT JOIN article_tag t\n\t\tON a.article_id = t.article_id\n\t\tWHERE url_title = $1\n\t\tGROUP BY a.title, a.url_title\n\t\tLIMIT 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "url_title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "about",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "date_published",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 4,
          "name": "date_updated",
          "type_info": "Timestamp"
        },
        {
          "ordinal": 5,
          "name": "html",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "tags_array",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        false,
        null
      ]
    }
  },
  "f0f8a9e5ff3e83bebe8dd6bcec79dba3fadef395825fd6e584b411e518c10ac3": {
    "query": "SELECT home_page FROM html_cache",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "home_page",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        true
      ]
    }
  }
}